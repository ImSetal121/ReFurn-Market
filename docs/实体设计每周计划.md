# ReFlip APP 简要

## 系统模块划分:
### 后端(Java)
### 前端-用户APP(Flutter)
### 前端-后台网页(React)(frontend-panel-react)

## 核心功能解决方案:
### Google登录(Google OAuth2)
### Apple登录()
### 手机号短信验证()
### 邮箱验证()

## 实体设计

## 系统实体

### 角色表(sys_role)

| 字段 | 字段类型 | 字段说明 |
| --- | --- | --- |
| id | serial | 角色id |
| key | varchar | 角色键 |
| name | varchar | 角色名称 |

### 用户表(sys_user)

| 字段 | 字段类型 | 字段说明 |
| --- | --- | --- |
| id | serial | 用户id |
| username | varchar | 用户名 |
| password | varchar | 密码 |
| role_id | integer | 角色id |
| avatar | varchar | 头像 |
| nickname | varchar | 昵称 |
| email | varchar | 邮箱 |
| phone_number | varchar | 手机号 |
| sex | varchar | 性别 |
| last_login_ip | varchar | 最后登录ip |
| last_login_date | timestamp | 最后登录时间 |
| create_by | varchar | 创建者 |
| create_time | timestamp | 创建时间 |
| update_by | varchar | 更新者 |
| update_time | timestamp | 更新时间 |
| is_delete | boolean | 是否删除 |
| client_role | varchar | 客户端角色 |
| google_sub | varchar(255) | Google认证标识 |
| google_linked_time | timestamp | Google关联时间 |
| apple_sub | varchar(255) | Apple认证标识 |
| apple_linked_time | timestamp | Apple关联时间 |

### Stripe账户表(sys_user_stripe_account)

| 字段 | 字段类型 | 字段说明 |
| --- | --- | --- |
| id | serial | 主键 |
| user_id | integer | 关联的sys_user.id，一对一 |
| stripe_account_id | varchar | Stripe Express Account ID，如acct_ABC123 |
| create_time | timestamp | 记录创建时间 |
| update_time | timestamp | 记录最后更新时间 |

### 菜单表(sys_menu)

| 字段 | 字段类型 | 字段说明 |
| --- | --- | --- |
| id | serial | 菜单id |
| menu_name | varchar | 菜单名称 |
| parent_id | bigint | 父菜单id |
| order_num | integer | 排序 |
| path | varchar | 路由地址 |
| component | varchar | 组件路径 |
| query | varchar | 路由参数 |
| route_name | varchar | 路由名称 |
| is_frame | integer | 是否外链（0是 1否） |
| is_cache | integer | 是否缓存（0缓存 1不缓存） |
| menu_type | char | 菜单类型（M目录 C菜单 F按钮） |
| visible | char | 菜单状态（0显示 1隐藏） |
| status | char | 菜单状态（0正常 1停用） |
| perms | varchar | 权限标识 |
| icon | varchar | 菜单图标 |
| create_by | varchar | 创建者 |
| create_time | timestamp | 创建时间 |
| update_by | varchar | 更新者 |
| update_time | timestamp | 更新时间 |
| remark | varchar | 备注 |

## 业务实体

### 商品(rf_product)

| 字段 | 字段类型          | 字段说明   |
| --- |---------------|--------|
| id | Long          | 主键     |
| user_id | Long | 发布用户ID |
| name | String        | 商品名称   |
| category_id | Long          | 商品品类ID |
| category_name | String        | 商品品类名称 |
| price | BigDecimal    | 商品价格   |
| stock | Integer       | 商品库存   |
| description | String        | 商品描述   |
| image_url_json | String        | 商品图片集  |
| is_auction | Boolean       | 是否寄卖   |
| warehouse_id | Long | 仓库ID |
| warehouse_stock_id | Long | 仓库库存ID |
| address | String | 现存地址 |
| status | String | 状态 |
| is_self_pickup | Boolean       | 是否自提   |
| create_time | LocalDateTime | 创建时间   |
| update_time | LocalDateTime | 更新时间   |
| is_delete | boolean       | 是否删除   |

#### 状态
- 已上架 (LISTED)
- 未上架 (UNLISTED)
- 支付锁定 (PAYMENT_LOCKED)
- 已卖出 (SOLD)
- 退回卖家 (RETURNED_TO_SELLER)

### 商品品类(rf_product_category)

| 字段 | 字段类型 | 字段说明 |
| --- | --- | --- |
| id | Long | 主键 |
| name | String | 商品品类名称 |
| is_delete | boolean | 是否删除 |

### 用户地址(rf_user_address)

| 字段 | 字段类型 | 字段说明 |
| --- | --- | --- |
| id | Long | 主键 |
| user_id | Long | 用户ID |
| receiver_name | String | 收货人姓名 |
| receiver_phone | String | 收货人电话 |
| region | String | 地区 |
| is_default | Boolean | 是否默认地址 |
| create_time | LocalDateTime | 创建时间 |
| update_time | LocalDateTime | 更新时间 |
| is_delete | boolean | 是否删除 |

### 商品出售记录(rf_product_sell_record)

| 字段 | 字段类型 | 字段说明 |
| --- | --- | --- |
| id | Long | 主键 |
| product_id | Long | 商品ID |
| seller_user_id | Long | 卖家用户ID |
| buyer_user_id | Long | 买家用户ID |
| final_product_price | BigDecimal | 最终商品价格 |
| is_auction | Boolean | 是否寄卖 |
| internal_logistics_task_id | Long | 内部物流任务ID |
| product_warehouse_shipment_id | Long | 仓库发货记录ID |
| is_self_pickup | Boolean | 是否自提 |
| product_self_pickup_logistics_id | Long | 自提物流ID |
| buyer_receipt_image_url_json | String | 买家收货时图片集 |
| seller_return_image_url_json | String | 退货到卖家时图片集 |
| status | String | 状态 |
| create_time | LocalDateTime | 创建时间 |
| update_time | LocalDateTime | 更新时间 |
| is_delete | boolean | 是否删除 |

#### 状态
- 待发货 (PENDING_SHIPMENT)
- 待收货 (PENDING_RECEIPT)
- 已送达 (DELIVERED)
- 确认收货 (CONFIRMED)
- 发起退货 (RETURN_INITIATED)
- 退货协商不一致 (RETURN_NEGOTIATION_FAILED)
- 退回仓库 (RETURNED_TO_WAREHOUSE)
- 已退回仓库 (RETURNED_TO_WAREHOUSE_CONFIRMED)
- 退回卖家 (RETURNED_TO_SELLER)
- 已退回 (RETURN_COMPLETED)

### 购买评价(rf_purchase_review)

| 字段 | 字段类型 | 字段说明 |
| --- | --- | --- |
| id | Long | 主键 |
| product_id | Long | 商品ID |
| seller_user_id | Long | 卖方用户ID |
| product_sell_record_id | Long | 商品出售记录ID |
| reviewer_user_id | Long | 评价用户ID |
| rating | Integer | 评分(1-5) |
| review_content | String | 评价内容 |
| review_images_json | String | 评价图片集 |
| seller_reply | String | 卖家回复 |
| seller_reply_time | LocalDateTime | 卖家回复时间 |
| create_time | LocalDateTime | 创建时间 |
| update_time | LocalDateTime | 更新时间 |
| is_delete | boolean | 是否删除 |

### 商品留言(rf_product_comment)

| 字段 | 字段类型 | 字段说明 |
| --- | --- | --- |
| id | Long | 主键 |
| product_id | Long | 商品ID |
| commenter_user_id | Long | 留言用户ID |
| comment_content | String | 留言内容 |
| seller_reply | String | 卖家回复 |
| seller_reply_time | LocalDateTime | 卖家回复时间 |
| create_time | LocalDateTime | 创建时间 |
| update_time | LocalDateTime | 更新时间 |
| is_delete | boolean | 是否删除 |

### 用户收藏商品(rf_user_favorite_product)

| 字段 | 字段类型 | 字段说明 |
| --- | --- | --- |
| id | Long | 主键 |
| user_id | Long | 用户ID |
| product_id | Long | 商品ID |
| favorite_time | LocalDateTime | 收藏时间 |
| is_delete | boolean | 是否删除 |

### 用户商品浏览记录(rf_user_product_browse_history)

| 字段 | 字段类型 | 字段说明 |
| --- | --- | --- |
| id | Long | 主键 |
| user_id | Long | 用户ID |
| product_id | Long | 商品ID |
| browse_time | LocalDateTime | 浏览时间 |
| is_delete | boolean | 是否删除 |

### 商品退货记录(rf_product_return_record)

| 字段 | 字段类型 | 字段说明 |
| --- | --- | --- |
| id | Long | 主键 |
| product_id | Long | 商品ID |
| product_sell_record_id | Long | 商品出售记录ID |
| return_reason_type | String | 退货原因类型 |
| return_reason_detail | String | 退货原因详细说明 |
| seller_accept_return | Boolean | 卖方是否接受退货 |
| seller_opinion_detail | String | 卖方意见详细说明 |
| audit_result | String | 审核结果 |
| audit_detail | String | 审核详细说明 |
| freight_bearer | String | 运费承担方 |
| freight_bearer_user_id | Long | 运费承担用户ID |
| need_compensate_product | Boolean | 是否需要赔偿商品 |
| compensation_bearer | String | 赔偿承担方 |
| compensation_bearer_user_id | Long | 赔偿承担用户ID |
| is_auction | Boolean | 是否寄卖 |
| is_use_logistics_service | Boolean | 是否使用物流服务 |
| pickup_address | String | 退货取件地址 |
| appointment_pickup_time | LocalDateTime | 预约取件时间 |
| internal_logistics_task_id | Long | 内部物流任务ID |
| external_logistics_service_name | String | 外部物流服务商名称 |
| external_logistics_order_number | String | 外部物流单号 |
| status | String | 状态 |
| create_time | LocalDateTime | 创建时间 |
| update_time | LocalDateTime | 更新时间 |
| is_delete | boolean | 是否删除 |

#### 审核结果
- 拒绝 (REJECTED)
- 同意 (APPROVED)

#### 运费承担方
- 卖方 (SELLER)
- 买方 (BUYER)
- 平台 (PLATFORM)

#### 赔偿承担方
- 卖方 (SELLER)
- 买方 (BUYER)
- 平台 (PLATFORM)

#### 状态
- 发起退货 (RETURN_INITIATED)
- 退货协商不一致 (RETURN_NEGOTIATION_FAILED)
- 退回仓库 (RETURNED_TO_WAREHOUSE)
- 已退回仓库 (RETURNED_TO_WAREHOUSE_CONFIRMED)
- 退回卖家 (RETURNED_TO_SELLER)
- 已退回 (RETURN_COMPLETED)

### 商品退回卖家记录(rf_product_return_to_seller)

| 字段 | 字段类型 | 字段说明 |
| --- | --- | --- |
| id | Long | 主键 |
| product_id | Long | 商品ID |
| product_sell_record_id | Long | 商品出售记录ID |
| warehouse_id | Long | 仓库ID |
| warehouse_address | String | 仓库地址 |
| seller_receipt_address | String | 卖家收货地址 |
| internal_logistics_task_id | Long | 内部物流任务ID |
| shipment_time | LocalDateTime | 发货时间 |
| shipment_image_url_json | String | 发货时货件图片集 |
| status | String | 状态 |
| create_time | LocalDateTime | 创建时间 |
| update_time | LocalDateTime | 更新时间 |
| is_delete | boolean | 是否删除 |

#### 状态
- 待发货 (PENDING_SHIPMENT)
- 已发货 (SHIPPED)
- 已签收 (RECEIVED)

### 商品寄卖物流记录(rf_product_auction_logistics)

| 字段                              | 字段类型          | 字段说明      |
|---------------------------------|---------------|-----------|
| id                              | Long          | 主键        |
| product_id                      | Long          | 商品ID      |
| product_sell_record_id          | Long          | 商品出售记录ID  |
| pickup_address                  | String        | 取货地址      |
| warehouse_id                    | Long          | 托管仓库ID    |
| warehouse_address               | String        | 托管仓库地址    |
| is_use_logistics_service        | Boolean       | 是否使用物流服务  |
| appointment_pickup_date         | LocalDate     | 预约取件日期    |
| appointment_pickup_time_period  | String        | 预约取件时间段   |
| internal_logistics_task_id      | Long          | 内部物流任务ID  |
| external_logistics_service_name | String        | 外部物流服务商名称 |
| external_logistics_order_number | String        | 外部物流单号    |
| status                          | String        | 状态        |
| create_time                     | LocalDateTime | 创建时间      |
| update_time                     | LocalDateTime | 更新时间      |
| is_delete                       | boolean       | 是否删除      |

#### 状态
- 待上门 (PENDING_PICKUP)
- 待入库 (PENDING_WAREHOUSING)
- 已入库 (WAREHOUSED)

#### 预约取件时间段
- 上午 (MORNING)
- 下午 (AFTERNOON)

### 商品仓库发货记录(rf_product_warehouse_shipment)

| 字段 | 字段类型 | 字段说明 |
| --- | --- | --- |
| id | Long | 主键 |
| product_id | Long | 商品ID |
| product_sell_record_id | Long | 商品出售记录ID |
| warehouse_id | Long | 仓库ID |
| warehouse_address | String | 仓库地址 |
| buyer_receipt_address | String | 收货地址 |
| shipment_time | LocalDateTime | 发货时间 |
| internal_logistics_task_id | Long | 内部物流任务ID |
| shipment_image_url_json | String | 发货时货件图片集 |
| status | String | 状态 |
| create_time | LocalDateTime | 创建时间 |
| update_time | LocalDateTime | 更新时间 |
| is_delete | boolean | 是否删除 |

#### 状态
- 待出库 (PENDING_OUTBOUND)
- 待收货 (PENDING_RECEIPT)
- 已签收 (SIGNED)

### 商品自提物流记录(rf_product_self_pickup_logistics)

| 字段 | 字段类型 | 字段说明 |
| --- | --- | --- |
| id | Long | 主键 |
| product_id | Long | 商品ID |
| product_sell_record_id | Long | 商品出售记录ID |
| pickup_address | String | 取货地址 |
| buyer_receipt_address | String | 收货地址 |
| external_logistics_service_name | String | 外部物流服务商名称 |
| external_logistics_order_number | String | 外部物流单号 |
| status | String | 状态 |
| create_time | LocalDateTime | 创建时间 |
| update_time | LocalDateTime | 更新时间 |
| is_delete | boolean | 是否删除 |

#### 状态
- 已发货 (SHIPPED)
- 已签收 (SIGNED)

### 非寄卖信息记录(rf_product_non_consignment_info)

| 字段 | 字段类型 | 字段说明 |
| --- | --- | --- |
| id | Long | 主键 |
| product_id | Long | 商品ID |
| seller_id | Long | 卖家ID |
| delivery_method | String | 送达方式 |
| pickup_address | String | 取货地址 |
| pickup_address_detail | String | 取货地址详细 |
| buyer_receipt_address | String | 收货地址 |
| buyer_receipt_address_detail | String | 收货地址详细 |
| appointment_pickup_date | LocalDate | 预约取货日期 |
| appointment_pickup_time_period | String | 预约取货时间段 |
| status | String | 状态 |
| create_time | LocalDateTime | 创建时间 |
| update_time | LocalDateTime | 更新时间 |
| is_delete | boolean | 是否删除 |

#### 送达方式
- 买家自提 (BUYER_SELF_PICKUP)
- 卖家自寄 (SELLER_SELF_SHIPPING)

#### 状态
- 未完成 (INCOMPLETE)
- 已完成 (COMPLETED)

#### 预约取货时间段
- 上午 (MORNING)
- 下午 (AFTERNOON)


### 仓库(rf_warehouse)

| 字段 | 字段类型 | 字段说明 |
| --- | --- | --- |
| id | Long | 主键 |
| name | String | 仓库名称 |
| address | String | 仓库地址 |
| monthly_warehouse_cost | BigDecimal | 每月仓储费用 |
| status | String | 状态 |
| create_time | LocalDateTime | 创建时间 |
| update_time | LocalDateTime | 更新时间 |
| is_delete | boolean | 是否删除 |

#### 状态
- 启用 (ENABLED)
- 停用 (DISABLED)

### 仓库入库申请(rf_warehouse_in_apply)

| 字段 | 字段类型 | 字段说明 |
| --- | --- | --- |
| id | Long | 主键 |
| warehouse_id | Long | 仓库ID |
| product_id | Long | 商品ID |
| product_sell_record_id | Long | 商品出售记录ID |
| product_consignment_record_id | Long | 商品寄卖记录ID |
| product_return_record_id | Long | 商品退货记录ID |
| product_return_to_seller_record_id | Long | 商品退回卖家记录ID |
| source | String | 货件来源 |
| apply_quantity | Integer | 申请入库数量 |
| apply_time | LocalDateTime | 申请入库时间 |
| product_image_url_json | String | 货件图片集 |
| audit_result | String | 审核结果 |
| audit_detail | String | 审核详细说明 |
| status | String | 状态 |
| warehouse_in_id | Long | 入库记录ID |
| create_time | LocalDateTime | 创建时间 |
| update_time | LocalDateTime | 更新时间 |
| is_delete | boolean | 是否删除 |

#### 货件来源
- 上门取货 (PICKUP_SERVICE)
- 商品退货 (PRODUCT_RETURN)

#### 审批结果
- 批准入库 (APPROVED_WAREHOUSING)
- 拒绝入库 (REJECTED_WAREHOUSING)

#### 状态
- 待审批 (PENDING_APPROVAL)
- 已审批 (APPROVED)

### 仓库库存(rf_warehouse_stock)

| 字段 | 字段类型 | 字段说明 |
| --- | --- | --- |
| id | Long | 主键 |
| warehouse_id | Long | 仓库ID |
| product_id | Long | 商品ID |
| stock_quantity | Integer | 库存数量 |
| stock_position | String | 存放位置 |
| warehouse_in_apply_id | Long | 入库申请ID |
| warehouse_in_id | Long | 入库记录ID |
| in_time | LocalDateTime | 入库时间 |
| in_type | String | 入库类型 |
| warehouse_out_id | Long | 出库记录ID |
| out_time | LocalDateTime | 出库时间 |
| out_type | String | 出库类型 |
| status | String | 状态 |
| create_time | LocalDateTime | 创建时间 |
| update_time | LocalDateTime | 更新时间 |
| is_delete | boolean | 是否删除 |

#### 状态
- 库存中 (IN_STOCK)
- 已出库 (OUT_OF_STOCK)

#### 入库类型
- 上门取货 (PICKUP_SERVICE)
- 商品退货 (PRODUCT_RETURN)

#### 出库类型
- 仓库发货 (WAREHOUSE_SHIPMENT)
- 退回卖家 (RETURN_TO_SELLER)

### 仓库入库(rf_warehouse_in)

| 字段 | 字段类型 | 字段说明 |
| --- | --- | --- |
| id | Long | 主键 |
| warehouse_id | Long | 仓库ID |
| product_id | Long | 商品ID |
| product_sell_record_id | Long | 商品出售记录ID |
| in_quantity | Integer | 入库数量 |
| in_time | LocalDateTime | 入库时间 |
| stock_position | String | 存放位置 |
| product_image_url_json | String | 货件图片集 |
| create_time | LocalDateTime | 创建时间 |
| update_time | LocalDateTime | 更新时间 |
| is_delete | boolean | 是否删除 |

### 仓库出库(rf_warehouse_out)

| 字段 | 字段类型 | 字段说明 |
| --- | --- | --- |
| id | Long | 主键 |
| warehouse_id | Long | 仓库ID |
| product_id | Long | 商品ID |
| product_sell_record_id | Long | 商品出售记录ID |
| stock_position | String | 存放位置 |
| out_quantity | Integer | 出库数量 |
| out_time | LocalDateTime | 出库时间 |
| product_image_url_json | String | 货件图片集 |
| create_time | LocalDateTime | 创建时间 |
| update_time | LocalDateTime | 更新时间 |
| is_delete | boolean | 是否删除 |

### 仓储费用(rf_warehouse_cost)

| 字段 | 字段类型 | 字段说明 |
| --- | --- | --- |
| id | Long | 主键 |
| warehouse_id | Long | 仓库ID |
| product_id | Long | 商品ID |
| product_sell_record_id | Long | 商品出售记录ID |
| cost_type | String | 费用类型 |
| cost | BigDecimal | 费用 |
| create_time | LocalDateTime | 创建时间 |
| update_time | LocalDateTime | 更新时间 |
| is_delete | boolean | 是否删除 |

### 内部物流任务(rf_internal_logistics_task)

| 字段 | 字段类型 | 字段说明 |
| --- | --- | --- |
| id | Long | 主键 |
| product_id | Long | 商品ID |
| product_sell_record_id | Long | 商品出售记录ID |
| product_consignment_record_id | Long | 商品寄卖记录ID |
| product_return_record_id | Long | 商品退货记录ID |
| product_return_to_seller_record_id | Long | 商品退回卖家记录ID |
| task_type | String | 任务类型 |
| logistics_user_id | Long | 物流人员用户ID |
| source_address | String | 源地址 |
| source_address_image_url_json | String | 源地址时货件图片集 |
| target_address | String | 目标地址 |
| target_address_image_url_json | String | 目标地址时货件图片集 |
| contact_phone | String | 收件联系电话 |
| logistics_cost | BigDecimal | 物流费用 |
| status | String | 状态 |
| create_time | LocalDateTime | 创建时间 |
| update_time | LocalDateTime | 更新时间 |
| is_delete | boolean | 是否删除 |

#### 任务类型
- 上门取货 (PICKUP_SERVICE)
- 仓库发货 (WAREHOUSE_SHIPMENT)
- 商品退货 (PRODUCT_RETURN)
- 退回卖家 (RETURN_TO_SELLER)
- 其他 (OTHER)

#### 状态
- 待接取 (PENDING_ACCEPT)
- 待取货 (PENDING_PICKUP)
- 待收货 (PENDING_RECEIPT)
- 已完成 (COMPLETED)
- 已取消 (CANCELLED)

### 账单项(rf_bill_item)

| 字段 | 字段类型 | 字段说明 |
| --- | --- | --- |
| id | Long | 主键 |
| product_id | Long | 商品ID |
| product_sell_record_id | Long | 商品出售记录ID |
| cost_type | String | 费用类型 |
| cost_description | String | 费用说明 |
| cost | BigDecimal | 费用 |
| pay_subject | String | 支付主体 |
| is_platform_pay | Boolean | 是否为平台支付 |
| pay_user_id | Long | 支付用户ID |
| status | String | 状态 |
| pay_time | LocalDateTime | 支付时间 |
| payment_record_id | Long | 支付记录ID |
| create_time | LocalDateTime | 创建时间 |
| update_time | LocalDateTime | 更新时间 |
| is_delete | boolean | 是否删除 |

#### 费用类型
- 商品费用 (PRODUCT_COST)
- 仓储费用 (STORAGE_COST)
- 物流费用 (LOGISTICS_COST)
- 上门安装费用 (INSTALLATION_COST)
- 服务费用 (SERVICE_COST)

#### 状态
- 待支付 (PENDING)
- 已支付 (PAID)

### 聊天消息(chat_message)

| 字段 | 字段类型 | 字段说明 |
| --- | --- | --- |
| id | Long | 主键 |
| sender_user_id | Long | 发送用户ID |
| receiver_user_id | Long | 接收用户ID |
| message_type | String | 消息类型 |
| message_content | String | 消息内容 |
| send_time | LocalDateTime | 发送时间 |
| is_read | Boolean | 是否已读 |
| status | String | 状态 |
| create_time | LocalDateTime | 创建时间 |
| update_time | LocalDateTime | 更新时间 |
| is_delete | boolean | 是否删除 |

#### 消息类型
- 文本 (TEXT)
- 图片url (IMAGE_URL)
- 视频url (VIDEO_URL)
- 商品链接 (PRODUCT_LINK)


### 余额明细表(rf_balance_detail)

| 字段 | 字段类型 | 字段说明 |
| --- | --- | --- |
| id | Long | 主键 |
| user_id | Long | 用户ID |
| prev_detail_id | Long | 上一个明细ID（双链表前指针） |
| next_detail_id | Long | 下一个明细ID（双链表后指针） |
| transaction_type | String | 交易类型 |
| amount | BigDecimal | 交易金额 |
| balance_before | BigDecimal | 交易前余额 |
| balance_after | BigDecimal | 交易后余额 |
| description | String | 交易描述 |
| transaction_time | LocalDateTime | 交易时间 |
| create_time | LocalDateTime | 创建时间 |
| update_time | LocalDateTime | 更新时间 |
| is_delete | boolean | 是否删除 |

#### 交易类型
- 充值 (RECHARGE)
- 提现 (WITHDRAWAL)
- 消费 (CONSUMPTION)
- 退款 (REFUND)
- 佣金收入 (COMMISSION)
- 平台奖励 (REWARD)

#### 双链表说明
- 每个用户的余额明细按时间顺序组成双链表
- prev_detail_id 指向该用户上一条明细记录的id
- next_detail_id 指向该用户下一条明细记录的id
- 最早明细的 prev_detail_id 为 null
- 最新明细的 next_detail_id 为 null
- 便于双向遍历用户的余额变动历史，支持正序和倒序查询
    
## 每周计划:
### Week 1
    后端完成用户与权限模块。
    初步完成完成前端-后台网页管理。
    前端-用户APP项目确立。

    Google/Apple OAuth
    手机号验证
    邮箱验证
    文件床
### Week 2
	后端完成所有的业务，管理。
	前端-后台完成所有后台侧功能。
	初步完成前端-用户

	支付/账户
### Week 3
	前端-用户

	Google 地图/定位
### Week 4
	上线发布

## 关键点
### 优先一
    Google/Apple OAuth
    手机号验证
    邮箱验证
    oss
    支付/账户
    Google 地图/定位
### 优先二
    语音输入
    相机识别